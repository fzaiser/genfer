# data: [2, 2, 4, 0, 0, 0, 0, 0, 1, 1, 0, 2, 4, 3, 3, 5, 1, 2, 3, 1, 3, 3, 0, 0, 2, 0, 0, 2, 6, 1]

State := 1;
Rate1 ~ Geometric(0.1);
Rate2 ~ Geometric(0.1);
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 4 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 4 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 1 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 1 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 1 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 1 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 4 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 4 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 3 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 3 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 3 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 3 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 5 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 5 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 1 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 1 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 3 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 3 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 1 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 1 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 3 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 3 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 3 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 3 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 0 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 0 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 2 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 2 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 6 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 6 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}
if State = 0 {
    observe 1 ~ Poisson(0.1 * Rate1);
    State ~ Bernoulli(0.2);
} else {
    observe 1 ~ Poisson(0.1 * Rate2);
    State ~ Bernoulli(0.8);
}

return Rate2;
